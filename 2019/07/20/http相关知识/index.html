<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="计算机网络,http,https,http/2.0相关,tcp相关,web实时推送,">










<meta name="description" content="http状态码：1xx 指示信息-表示请求已经接受，继续处理 表示客户端需要提交下一步请求2xx 成功 表示请求已被成功接受304未修改，客户端的缓存是最新的3xx 重定向 要完成请求需要进一步操作 302(重定向), 307 和 304(拿缓存)4xx 客户端错误 请求有语法错误等5xx 服务器端错误 服务器未能实现合法的请求 403 //对被请求的页面访问禁止 404 请求资源不存在 比如输入">
<meta name="keywords" content="计算机网络,http,https,http&#x2F;2.0相关,tcp相关,web实时推送">
<meta property="og:type" content="article">
<meta property="og:title" content="http相关知识,tcp知识,web实时推送">
<meta property="og:url" content="http://yoursite.com/2019/07/20/http相关知识/index.html">
<meta property="og:site_name" content="KevinSwift">
<meta property="og:description" content="http状态码：1xx 指示信息-表示请求已经接受，继续处理 表示客户端需要提交下一步请求2xx 成功 表示请求已被成功接受304未修改，客户端的缓存是最新的3xx 重定向 要完成请求需要进一步操作 302(重定向), 307 和 304(拿缓存)4xx 客户端错误 请求有语法错误等5xx 服务器端错误 服务器未能实现合法的请求 403 //对被请求的页面访问禁止 404 请求资源不存在 比如输入">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2019-08-14T03:48:31.811Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="http相关知识,tcp知识,web实时推送">
<meta name="twitter:description" content="http状态码：1xx 指示信息-表示请求已经接受，继续处理 表示客户端需要提交下一步请求2xx 成功 表示请求已被成功接受304未修改，客户端的缓存是最新的3xx 重定向 要完成请求需要进一步操作 302(重定向), 307 和 304(拿缓存)4xx 客户端错误 请求有语法错误等5xx 服务器端错误 服务器未能实现合法的请求 403 //对被请求的页面访问禁止 404 请求资源不存在 比如输入">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2019/07/20/http相关知识/">





  <title>http相关知识,tcp知识,web实时推送 | KevinSwift</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">KevinSwift</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
            分类
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/07/20/http相关知识/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="KevinSwift">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="KevinSwift">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">http相关知识,tcp知识,web实时推送</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-07-20T11:30:44+08:00">
                2019-07-20
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>http状态码：<br>1xx 指示信息-表示请求已经接受，继续处理 表示客户端需要提交下一步请求<br>2xx 成功 表示请求已被成功接受<br>304未修改，客户端的缓存是最新的<br>3xx 重定向 要完成请求需要进一步操作 302(重定向), 307 和 304(拿缓存)<br>4xx 客户端错误 请求有语法错误等<br>5xx 服务器端错误 服务器未能实现合法的请求</p>
<p>403 //对被请求的页面访问禁止 404 请求资源不存在 比如输入了错误的URL<br>post 向URL指定的资源提交数据<br>put 提交数据 put指定了在服务器上的位置 而post没有<br>head 只请求页面的首部<br>delete 方法：删除服务器上的某资源<br>options 方法：它用于获取当前 URL支持的方法，如果请求成功，会有一个 Allow 的头包含类似“GET,POST”这样的信息</p>
<p>持久连接：只要任意一端没有提出明确断开连接，则保持TCP的连接状态</p>
<p>https的工作原理：！！！<br>https在HTTP上建立了SSL加密层，对传输数据进行了加密，是http的安全版<br>主要作用：<br>1.对数据进行加密，并建立一个信息安全通道，来保证传输数据的过程中的数据安全<br>2.对网站服务器进行真实身份认证<br>http使用的是明文进行发送。<br>完成了数据隐私性传输，完整性的校验，身份认证<br>http先和SSL通信，再由SSL和tcp通信。<br>对称加密：加密和解密用同一个秘钥，将秘钥也需要发送给对方。<br>非对称加密：私有秘钥不能让任何人知道，公开秘钥可以随意发布<br>使用公开秘钥加密的方式：发送密文的一方使用对方的公开秘钥进行加密，<br>对方收到后，利用私钥进行解密。<br>非对称加密特点是信息一传输多，服务端只需要维护一个<strong>私钥就能和多个客户端进行通信</strong></p>
<p>http使用的方式：在交换秘钥环节使用非对称加密方式，之后的建立通信交换报文阶段采用对称加密方式</p>
<p><strong>发送密文的一方使用对方的公开秘钥加密处理对称的秘钥，然后对方利用自己的私钥进行解密拿到对称的秘钥，这样可以确保秘钥在安全的情况下，使用对称秘钥进行加密</strong></p>
<p>解决报文是否可能遭到篡改 – 数字签名<br>确定消息是由发送方签名并且发过来的，因为别人假冒不了<br>数字签名保证消息的完整性，证明数据没有被篡改<br>文本用hash生成消息摘要 再由私钥生成数字签名，发送给接受者<br>接受者只有用发送者的公钥才能进行解密，然后用hash函数产生摘要信息。</p>
<p>解决通信双方身份可能被伪装的问题：数字证书<br>数字认证机构处于客户端和服务器双方都可信赖的第三方机构的立场上</p>
<p>https通信过程<br>1.client发送https请求 server的连接端口为443<br>2.server把事先配置好的公钥证书返回给客户端<br>3.client验证公钥证书<br>4.clent使用<strong>伪随机数产生对称秘钥，然后用证书的公钥加密,发送给server</strong><br>5.server利用自己私钥进行解密，client和server拥有了相同的私钥<br>6.server使用对称秘钥加密明文内容，发送给client<br>7.client使用对称秘钥解密密文，得到明文内容<br>8.client再次发送http,使用对称秘钥加密请求B,然后server使用对称秘钥解密</p>
<p>tcp3次握手过程<br>client -&gt; server发送<br>server 接收后 回复ack<br>client收到ack后回复ack</p>
<p>问：为什么建立连接需要3次<br>答：防止失效的连接请求报文段被服务端接收，从而产生报错 A是client,B是server<br>发送的失效报文到达时，A和B已经断开了，但是B又建立了连接，向A发送数据，所以造成资源浪费<br>tcp 4次挥手<br>客户端打算关闭连接<br>tcp停止释放报文，fin = 1<br>服务器接收到后确认，确认号是ack + 1<br><strong>客户端到服务器这个连接已经释放，但是服务器到客户端还未释放，client不能发送，server不能接受，但是server可以发送，client可以接受</strong><br>因为tcp是全双工的，两端可以同时发送和接收数据</p>
<p>服务器到客户端发送fin<br>客户端接收到后，必须发出请求，ack = 1<br>运输层中有传输控制协议tcp和用户数据协议udp<br>dns查看 浏览器缓存 -&gt; 系统缓存 -&gt; 路由器缓存</p>
<p>http/2相比于http/1，可以说大幅度提高了网页的性能，只需要升级到该协议就能减少很多之前需要做的性能优化工作，<br>当然兼容问题以及如何优雅降级应该是国内还不普遍使用的原因之一。<br>http/3相对于http/2又是一个提升<br>http协议：<br>处于计算机网络中的应用层，http是建立在tcp协议之上，<strong>所以http协议的瓶颈及其优化技巧都是基于tcp本身的特性</strong>,<br>例如tcp建立的3次握手和断开连接的4次挥手以及每次建立连接带来的RTT延迟时间</p>
<p>http/1.x缺陷<br>连接无法复用 每次都会导致3次握手和慢启动，慢启动对大量小文件请求影响较大。<br>head-of-line blocking(holb) 导致宽度无法被充分利用，以及后续请求被阻塞<br>http/1.x在传输数据时，所有传输内容都是明文，客户端和服务端都无法验证对方身份，这在一定程度上无法保证数据的安全性</p>
<p>http/2方法/状态码/语义都与http/1.x一样，http/2基于SPDY3协议，专注于<strong>性能</strong>,最大的目标是在用户和网站之间只用一个连接。</p>
<p>http/2采用二进制格式传输数据，而非http1.x的文本格式。<br>http/2采用了多路复用技术。<br>解决了同一个域名下的请求数量的问题。<br>同时也更容易实现全速传输。<br>http/2<br>同域名下所有通行都在单个连接上完成。<br>单个连接可以承载任意数量的双向数据流。<br>数据流以消息的形式发送，而消息又由一个或多个帧组成，多个帧之间可以乱序发送，因为根据帧首部的流标识可以重新组装。<br>同个域名只需要占用一个 TCP 连接，使用一个连接并行发送多个请求和响应,消除了因多个 TCP 连接而带来的延时和内存消耗。<br>并行交错地发送多个请求，请求之间互不影响。<br>并行交错地发送多个响应，响应之间互不干扰。<br>在HTTP/2中，每个请求都可以带一个31bit的优先值，0表示最高优先级， 数值越大优先级越低。有了这个优先值，客户端和服务器就可以在处理不同的流时采取不同的策略，以最优的方式发送流、消息和帧。<br>http/2只采用一个tcp协议，<br>http/2压缩了header<br>server-push也叫cache push<br>某些资源客户端一定会请求，可以采用服务端push方式，提前给客户端必要的资源。<br>http3协议是基于QUIC协议，QUIC协议是基于UDP协议。<br>QUIC新功能：<br>0-RTT 通过使用类似TCP快速打开的技术，缓存当前会话的上下文，在下次恢复会话的时候，只需要将之前的缓存传递给服务端验证通过就可以进行传输了。0-RTT建立连接可以说是QUIC相比HTTP2最大的性能优势。<br>https建立一次完全握手需要3个RTT，而QUIC建立在UDP基础上，同时又实现了0RTT的安全握手，所以在大部分情况下，只需要0个RTT就能实现数据传送。<br>同一条QUIC连接上可以创建多个stream,来发送多个http请求。<br>QUIC有向前纠错机制，每个数据包除了它本身的内容之外，还包括了部分其他数据包的数据，因此少量的丢包可以通过其他包的冗余数据直接组装而无需重传。<br>http/1.x有连接无法复用，队头阻塞，协议开销大和安全因素等多个缺陷。<br>http/2通过多路复用，二进制流，Header等压缩技术，极大的提高了性能。但是还是存在性能问题。<br>quic基于udp协议来实现，是http/3中的底层支撑协议，该协议基于UDP，又吸取了TCP中的精华，实现了既块又可靠的协议传输。</p>
<p>web实时推送机制 将后台发生的变化主动的，实时的传送到浏览器端。而不需要用户端主动刷新页面<br><strong>轮询</strong>是客户端和服务器之间会一直进行连接，每隔一段时间就询问一次，缺点：连接数会非常多，一个接受，一个发送，<br><strong>而且每次发送请求都会有http的header，会很耗流量，也会消耗cpu的利用率。
</strong>长轮询<strong>客户端发送http给服务器后，看有没有新消息，如果没有新消息，就一直等待，当有新消息的时候，才会返回给客户端。在某种程度上减小了网络带宽和CPU利用率等问题。由于http数据包的头部数据量往往很大（通常有400多个字节),但是真正被服务器用到的数据却很少，<br>这样的数据在网络上周期性的传输，</strong>难免对网络带宽是一种浪费<strong>
</strong>iframe<strong>流方式是在页面中插入一个隐藏的iframe,利用其src属性在服务器和客户端之间建立一条长连接，服务器想iframe传输数据，来实时更新页面。<br>优点：消息能够实时到达；浏览器兼容好<br>缺点：服务器维护一个长连接会增加开销；IE、chrome、Firefox会显示加载没有完成，图标会不停旋转。
</strong>web socket<strong>机制，web服务器和客户端之间建立连接后，之后所有的通信都依靠这个专用协议进行。任意一方可直接向对方发送报文。<br>http是半双工协议，web socket是全双工协议。<br>tcp和udp的比较<br>tcp/ip是互联网相关的各类协议族的总称，例如tcp,udp,ip,ftp,http,icmp,smtp等<br>是互联网的基础，一系列网络协议的总称，<br>这些协议可以划分为四层，分别为链路层、网络层、传输层和应用层。<br>tcp/ip的4层模型<br>链路层 -&gt; 网络层 -&gt; 传输层 -&gt; 应用层<br>udp协议全称是用户数据报协议，在网络中它与 TCP 协议一样用于处理数据包，是一种</strong>无连接的协议<strong>。<br>面向无连接，不需要和tcp一样在发送数据前建立3次握手。<br>有单播，多播，广播的功能。<br>支持一对一，一对多，多对多，多对一的方式。<br>udp是面向报文的，是不可靠的。<br>头部开销小，传播数据报文是很高效的<br>两台计算机通信时，需要畅通并且可靠。<br>当你想查看网页或查看电子邮件时，希望完整且按顺序查看网页，而不丢失任何内容。当你下载文件时，希望获得的是完整的文件，而不仅仅是文件的一部分，因为如果数据丢失或乱序，都不是你希望得到的结果，于是就用到了 TCP。
</strong>tcp协议全称是传输控制协议，是一种面向连接的，可靠的，基于字节流的传输层通信协议<strong>.<br>3次握手和4次挥手<br>tcp仅支持单播传输<br>ajax是一种</strong>异步请求数据的web开发技术**,在不需要重新刷新页面的情况下，ajax通过异步请求加载后台数据，并在前端显示。<br>ajax目的是提高用户体验，减少网络数据传输量<br>基于浏览器提供的xmlhttprequest对象，使得浏览器可以发出http请求和接收到http响应。<br>浏览器接着干自己的事情</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/计算机网络/" rel="tag"># 计算机网络</a>
          
            <a href="/tags/http-https-http-2-0相关/" rel="tag"># http,https,http/2.0相关</a>
          
            <a href="/tags/tcp相关/" rel="tag"># tcp相关</a>
          
            <a href="/tags/web实时推送/" rel="tag"># web实时推送</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/07/19/伪数组和promise/" rel="next" title="伪数组和promise,async,await的关系">
                <i class="fa fa-chevron-left"></i> 伪数组和promise,async,await的关系
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/07/21/页面性能优化/" rel="prev" title="页面性能优化与常见的攻击">
                页面性能优化与常见的攻击 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/uploads/avatar.png" alt="KevinSwift">
            
              <p class="site-author-name" itemprop="name">KevinSwift</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">45</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">15</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">34</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">KevinSwift</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
